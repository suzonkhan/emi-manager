{
	"info": {
		"_postman_id": "48373923-360dc581-66c5-4f28-b174-f14d95dcaa9b",
		"name": "EMI Manager API",
		"description": "Complete API collection for EMI Manager Laravel application with authentication, user management, and location services",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login",
					"id": "48373923-6fc7fc1b-4aac-43b0-b7b0-b6311bb5ee80",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"login\": \"superadmin@emimanager.com\",\n  \"password\": \"Superadmin@123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login with email/phone and password. Returns user data and access token."
					},
					"response": []
				},
				{
					"name": "Logout",
					"id": "48373923-bc0c95a9-0543-4264-b301-e083a0c8b825",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"logout"
							]
						},
						"description": "Logout and invalidate current access token."
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"id": "48373923-a928b289-1df6-405d-bcd9-14c5e4b2c883",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"profile"
							]
						},
						"description": "Get authenticated user profile with addresses and role information."
					},
					"response": []
				},
				{
					"name": "Change Password",
					"id": "48373923-853c86dd-a21d-45ea-8508-3a75d47cca72",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"current_password\": \"oldpassword123\",\n  \"new_password\": \"newpassword123\",\n  \"new_password_confirmation\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/change-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"change-password"
							]
						},
						"description": "Change user password. Requires current password for verification."
					},
					"response": []
				}
			],
			"id": "48373923-ead972f4-ed84-496d-8ba1-95fc6cb1ddf1"
		},
		{
			"name": "User Management",
			"item": [
				{
					"name": "Get Users",
					"id": "48373923-0f7886ea-ae64-44d6-a381-a7409fd4053a",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Get paginated list of users based on hierarchy. Super admins see all users, others see their subordinates."
					},
					"response": []
				},
				{
					"name": "Create User",
					"id": "48373923-eb7e00cf-82b1-46b7-9c23-48a5419c4cda",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"phone\": \"01712345678\",\n  \"password\": \"password123\",\n  \"role\": \"customer\",\n  \"present_address\": {\n    \"street_address\": \"123 Main Street\",\n    \"landmark\": \"Near City Bank\",\n    \"postal_code\": \"1200\",\n    \"division_id\": 1,\n    \"district_id\": 1,\n    \"upazilla_id\": 1\n  },\n  \"permanent_address\": {\n    \"street_address\": \"456 Home Street\",\n    \"landmark\": \"Near School\",\n    \"postal_code\": \"1201\",\n    \"division_id\": 1,\n    \"district_id\": 1,\n    \"upazilla_id\": 1\n  },\n  \"bkash_merchant_number\": \"01712345678\",\n  \"nagad_merchant_number\": \"01712345679\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Create a new user with complete profile including addresses and merchant numbers."
					},
					"response": []
				},
				{
					"name": "Get User Details",
					"id": "48373923-f0042491-bdf5-4702-acec-a4fdd3078ef2",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"1"
							]
						},
						"description": "Get detailed information about a specific user including addresses, role, and hierarchy."
					},
					"response": []
				},
				{
					"name": "Update User",
					"id": "48373923-f1947a8a-98b6-4923-8dd0-0f5d27e81e41",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe Updated\",\n  \"email\": \"john.updated@example.com\",\n  \"phone\": \"01712345679\",\n  \"bkash_merchant_number\": \"01712345680\",\n  \"nagad_merchant_number\": \"01712345681\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"1"
							]
						},
						"description": "Update user information. Only super admins can change is_active status."
					},
					"response": []
				},
				{
					"name": "Reset User Password",
					"id": "48373923-30319271-c4f5-437d-b4b9-b0cc135d1601",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"new_password\": \"newpassword123\",\n  \"can_change_password\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/1/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"1",
								"reset-password"
							]
						},
						"description": "Reset user password. Only available for super admins."
					},
					"response": []
				},
				{
					"name": "Get Available Roles",
					"id": "48373923-788c6939-6feb-4214-bbfc-6e15d5bec783",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users/available-roles",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"available-roles"
							]
						},
						"description": "Get list of roles that current user can assign to new users based on hierarchy."
					},
					"response": []
				}
			],
			"id": "48373923-87b049bb-d134-4d37-9cca-cda53dee3875"
		},
		{
			"name": "Token Management",
			"item": [
				{
					"name": "Get Tokens",
					"id": "48373923-token-001",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tokens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens"
							]
						},
						"description": "Get list of tokens based on user role and hierarchy. Shows assigned and available tokens."
					},
					"response": []
				},
				{
					"name": "Generate Tokens",
					"id": "48373923-token-002",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"quantity\": 10,\n  \"notes\": \"Optional generation notes\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/tokens/generate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"generate"
							]
						},
						"description": "Generate new tokens. Super Admin only. Specify the count of tokens to generate."
					},
					"response": []
				},
				{
					"name": "Assign Token",
					"id": "48373923-token-003",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token_id\": 1,\n  \"assigned_to_user_id\": 5\n}"
						},
						"url": {
							"raw": "{{base_url}}/tokens/assign",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"assign"
							]
						},
						"description": "Assign a token to a subordinate user. Creates assignment chain tracking."
					},
					"response": []
				},
				{
					"name": "Distribute Tokens",
					"id": "48373923-token-004",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"distribution_plan\": {\n    \"dealer_id_1\": 50,\n    \"dealer_id_2\": 30,\n    \"dealer_id_3\": 20\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/tokens/distribute",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"distribute"
							]
						},
						"description": "Bulk distribute tokens to multiple dealers. Super Admin only. Specify user IDs and token counts."
					},
					"response": []
				},
				{
					"name": "Token Statistics",
					"id": "48373923-token-005",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tokens/statistics",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"statistics"
							]
						},
						"description": "Get token statistics including generated, assigned, used, and available counts."
					},
					"response": []
				},
				{
					"name": "Get Assignable Users",
					"id": "48373923-token-006",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tokens/assignable-users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"assignable-users"
							]
						},
						"description": "Get list of users who can be assigned tokens based on hierarchy."
					},
					"response": []
				}
			],
			"id": "48373923-token-group"
		},
		{
			"name": "Customer Management",
			"item": [
				{
					"name": "Get Customers",
					"id": "48373923-customer-001",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/customers?page=1&per_page=15&status=pending",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "per_page",
									"value": "15"
								},
								{
									"key": "status",
									"value": "pending"
								}
							]
						},
						"description": "Get paginated list of customers. Filter by status: pending, approved, rejected."
					},
					"response": []
				},
				{
					"name": "Create Customer",
					"id": "48373923-customer-002",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"ABC123DEF456\",\n  \"name\": \"রহিম উদ্দিন\",\n  \"email\": \"rahim@example.com\",\n  \"phone\": \"01712345678\",\n  \"nid_number\": \"1234567890123\",\n  \"father_name\": \"করিম উদ্দিন\",\n  \"mother_name\": \"ফাতেমা খাতুন\",\n  \"date_of_birth\": \"1985-06-15\",\n  \"occupation\": \"Business\",\n  \"monthly_income\": 35000,\n  \"present_address\": {\n    \"street_address\": \"১২৩ মুক্তিযোদ্ধা সরণি\",\n    \"landmark\": \"ঢাকা মেডিকেল কলেজের কাছে\",\n    \"postal_code\": \"1000\",\n    \"division_id\": 1,\n    \"district_id\": 1,\n    \"upazilla_id\": 1\n  },\n  \"permanent_address\": {\n    \"street_address\": \"৪৫৬ পুরাতন ঢাকা\",\n    \"landmark\": \"লালবাগ কেল্লার পাশে\",\n    \"postal_code\": \"1211\",\n    \"division_id\": 1,\n    \"district_id\": 1,\n    \"upazilla_id\": 2\n  },\n  \"product_name\": \"Samsung Galaxy S23\",\n  \"product_price\": 85000,\n  \"down_payment\": 15000,\n  \"loan_amount\": 70000,\n  \"interest_rate\": 15.5,\n  \"loan_term_months\": 12,\n  \"monthly_installment\": 6458.33,\n  \"guarantor_name\": \"আবদুল করিম\",\n  \"guarantor_phone\": \"01812345678\",\n  \"guarantor_nid\": \"9876543210987\",\n  \"guarantor_relation\": \"Brother\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/customers",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers"
							]
						},
						"description": "Create a new customer with EMI details. Salesman only. Requires a valid unused token."
					},
					"response": []
				},
				{
					"name": "Get Customer Details",
					"id": "48373923-customer-003",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/customers/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers",
								"1"
							]
						},
						"description": "Get detailed information about a specific customer including EMI calculations and addresses."
					},
					"response": []
				},
				{
					"name": "Update Customer Status",
					"id": "48373923-customer-004",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"approved\",\n  \"rejection_reason\": null\n}"
						},
						"url": {
							"raw": "{{base_url}}/customers/1/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers",
								"1",
								"status"
							]
						},
						"description": "Update customer status to approved/rejected. Include rejection_reason if rejecting."
					},
					"response": []
				},
				{
					"name": "Customer Statistics",
					"id": "48373923-customer-005",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/customers/statistics",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers",
								"statistics"
							]
						},
						"description": "Get customer statistics including counts by status and total loan amounts."
					},
					"response": []
				},
				{
					"name": "Upload Customer Documents",
					"id": "48373923-customer-006",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "nid_front",
									"type": "file",
									"src": []
								},
								{
									"key": "nid_back",
									"type": "file",
									"src": []
								},
								{
									"key": "customer_photo",
									"type": "file",
									"src": []
								},
								{
									"key": "guarantor_nid_front",
									"type": "file",
									"src": []
								},
								{
									"key": "guarantor_nid_back",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/customers/1/documents",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers",
								"1",
								"documents"
							]
						},
						"description": "Upload customer documents including NID, photo, and guarantor documents."
					},
					"response": []
				}
			],
			"id": "48373923-customer-group"
		},
		{
			"name": "Locations",
			"item": [
				{
					"name": "Get Divisions",
					"id": "48373923-7b408143-3c70-435b-9c22-2f3d6cfb616e",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/locations/divisions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"locations",
								"divisions"
							]
						},
						"description": "Get all active divisions for address selection."
					},
					"response": []
				},
				{
					"name": "Get Districts by Division",
					"id": "48373923-d9ce0659-87a2-4b4f-8163-9ea1783cc005",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/locations/districts/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"locations",
								"districts",
								"1"
							]
						},
						"description": "Get all active districts for a specific division."
					},
					"response": []
				},
				{
					"name": "Get Upazillas by District",
					"id": "48373923-76cfcd6a-4179-40b2-a198-e46627b1f146",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/locations/upazillas/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"locations",
								"upazillas",
								"1"
							]
						},
						"description": "Get all active upazillas for a specific district."
					},
					"response": []
				}
			],
			"id": "48373923-9b6d4367-ebe4-4e36-bea7-30209e8b179d"
		},
		{
			"name": "Dashboard",
			"item": [
				{
					"name": "Get Dashboard Stats",
					"id": "48373923-d485fc48-3098-4caf-b7c0-77fc73373ad0",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/dashboard/stats",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"dashboard",
								"stats"
							]
						},
						"description": "Get dashboard statistics. Super admins get global stats, others get personal stats."
					},
					"response": []
				}
			],
			"id": "48373923-57aa09b1-258d-4280-b504-5e5d8fd7babb"
		},
		{
			"name": "System",
			"item": [
				{
					"name": "API Test",
					"id": "48373923-cdf1c7c4-8fd1-4498-9dd1-9f82d29f6a6a",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/test",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"test"
							]
						},
						"description": "Test API connectivity and get Laravel version info."
					},
					"response": []
				},
				{
					"name": "Health Check",
					"id": "48373923-b80f0d65-4032-423b-91d5-3efe5082c1d5",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Health check endpoint for monitoring service status."
					},
					"response": []
				}
			],
			"id": "48373923-99db1cb1-cdba-4c5a-8906-567c5a185d05"
		},
		{
			"name": "Debug (Development Only)",
			"item": [
				{
					"name": "Debug Users",
					"id": "48373923-094b401b-bfba-4659-a847-2d84e114f208",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/debug/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"debug",
								"users"
							]
						},
						"description": "Debug endpoint to view all users with roles (development environment only)."
					},
					"response": []
				},
				{
					"name": "Debug Roles",
					"id": "48373923-80439a49-2a04-4074-9d8b-ecc701ecd3f8",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/debug/roles",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"debug",
								"roles"
							]
						},
						"description": "Debug endpoint to view all roles and permissions (development environment only)."
					},
					"response": []
				}
			],
			"id": "48373923-74f6a62b-cfa5-4514-9bdb-e4497ec12206"
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-set base URL if not set",
					"if (!pm.collectionVariables.get('base_url')) {",
					"    pm.collectionVariables.set('base_url', 'http://localhost:8000/api');",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-extract token from login response",
					"if (pm.info.requestName === 'Login' && pm.response.code === 200) {",
					"    const response = pm.response.json();",
					"    if (response.data && response.data.token) {",
					"        pm.collectionVariables.set('token', response.data.token);",
					"        console.log('Token extracted and saved:', response.data.token);",
					"    }",
					"}",
					"",
					"// Basic response validation",
					"pm.test('Status code is successful', function () {",
					"    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);",
					"});",
					"",
					"pm.test('Response is JSON', function () {",
					"    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
					"});",
					"",
					"// Check for API response structure",
					"if (pm.response.code === 200 || pm.response.code === 201) {",
					"    pm.test('Response has success structure', function () {",
					"        const response = pm.response.json();",
					"        pm.expect(response).to.have.property('success');",
					"        pm.expect(response.success).to.be.true;",
					"    });",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000/api",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	]
}