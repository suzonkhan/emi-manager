{
	"info": {
		"_postman_id": "48373923-360dc581-66c5-4f28-b174-f14d95dcaa9b",
		"name": "EMI Manager API",
		"description": "Complete API collection for EMI Manager Laravel application with authentication, user management, and location services",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Save token automatically after successful login",
									"if (pm.response.code === 200) {",
									"    var jsonData = pm.response.json();",
									"    ",
									"    // Check if response has token in data.token or data.access_token",
									"    if (jsonData.data && jsonData.data.token) {",
									"        pm.collectionVariables.set(\"token\", jsonData.data.token);",
									"        console.log(\"✅ Token saved:\", jsonData.data.token);",
									"    } else if (jsonData.data && jsonData.data.access_token) {",
									"        pm.collectionVariables.set(\"token\", jsonData.data.access_token);",
									"        console.log(\"✅ Token saved:\", jsonData.data.access_token);",
									"    } else if (jsonData.token) {",
									"        pm.collectionVariables.set(\"token\", jsonData.token);",
									"        console.log(\"✅ Token saved:\", jsonData.token);",
									"    } else if (jsonData.access_token) {",
									"        pm.collectionVariables.set(\"token\", jsonData.access_token);",
									"        console.log(\"✅ Token saved:\", jsonData.access_token);",
									"    } else {",
									"        console.log(\"⚠️ Token not found in response\");",
									"    }",
									"    ",
									"    // Save user info if available",
									"    if (jsonData.data && jsonData.data.user) {",
									"        pm.collectionVariables.set(\"user_id\", jsonData.data.user.id);",
									"        pm.collectionVariables.set(\"user_name\", jsonData.data.user.name);",
									"        console.log(\"✅ User info saved:\", jsonData.data.user.name);",
									"    }",
									"    ",
									"    pm.test(\"✅ Login successful - Token saved automatically\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"} else {",
									"    pm.test(\"❌ Login failed\", function () {",
									"        pm.response.to.have.status(200);",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "48373923-6fc7fc1b-4aac-43b0-b7b0-b6311bb5ee80",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"login\": \"admin@emimanager.com\",\n  \"password\": \"Admin@123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login with email/phone and password. Returns user data and access token. Token is automatically saved to collection variables."
					},
					"response": []
				},
				{
					"name": "Logout",
					"id": "48373923-bc0c95a9-0543-4264-b301-e083a0c8b825",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"logout"
							]
						},
						"description": "Logout and invalidate current access token."
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"id": "48373923-a928b289-1df6-405d-bcd9-14c5e4b2c883",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"profile"
							]
						},
						"description": "Get authenticated user profile with addresses and role information."
					},
					"response": []
				},
				{
					"name": "Change Password",
					"id": "48373923-853c86dd-a21d-45ea-8508-3a75d47cca72",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"current_password\": \"oldpassword123\",\n  \"new_password\": \"newpassword123\",\n  \"new_password_confirmation\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/change-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"change-password"
							]
						},
						"description": "Change user password. Requires current password for verification."
					},
					"response": []
				}
			],
			"id": "48373923-ead972f4-ed84-496d-8ba1-95fc6cb1ddf1"
		},
		{
			"name": "User Management",
			"item": [
				{
					"name": "Get Users",
					"id": "48373923-0f7886ea-ae64-44d6-a381-a7409fd4053a",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"disabled": true
								},
								{
									"key": "per_page",
									"value": "10",
									"disabled": true
								},
								{
									"key": "unique_id",
									"value": "9KYGSOHJ",
									"disabled": true
								},
								{
									"key": "name",
									"value": "Tohi",
									"disabled": true
								},
								{
									"key": "email",
									"value": "tohi%40emimanager.com",
									"disabled": true
								},
								{
									"key": "phone",
									"value": "013696359658",
									"disabled": true
								},
								{
									"key": "role",
									"value": "dealer",
									"disabled": true
								},
								{
									"key": "division_id",
									"value": "1",
									"disabled": true
								},
								{
									"key": "district_id",
									"value": "3",
									"disabled": true
								},
								{
									"key": "upazilla_id",
									"value": "35",
									"disabled": true
								},
								{
									"key": "status",
									"value": "active",
									"disabled": true
								}
							]
						},
						"description": "Get paginated list of users based on hierarchy. Super admins see all users, others see their subordinates."
					},
					"response": []
				},
				{
					"name": "Create User",
					"id": "48373923-eb7e00cf-82b1-46b7-9c23-48a5419c4cda",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john@examplee.com\",\n  \"phone\": \"01712345648\",\n  \"password\": \"password123\",\n  \"role\": \"salesman\",\n  \"present_address\": {\n    \"street_address\": \"123 Main Street\",\n    \"landmark\": \"Near City Bank\",\n    \"postal_code\": \"1200\",\n    \"division_id\": 1,\n    \"district_id\": 1,\n    \"upazilla_id\": 1\n  },\n  \"permanent_address\": {\n    \"street_address\": \"456 Home Street\",\n    \"landmark\": \"Near School\",\n    \"postal_code\": \"1201\",\n    \"division_id\": 1,\n    \"district_id\": 1,\n    \"upazilla_id\": 1\n  },\n  \"bkash_merchant_number\": \"01712345678\",\n  \"nagad_merchant_number\": \"01712345679\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users"
							]
						},
						"description": "Create a new user with complete profile including addresses and merchant numbers."
					},
					"response": []
				},
				{
					"name": "Get User Details",
					"id": "48373923-f0042491-bdf5-4702-acec-a4fdd3078ef2",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"1"
							]
						},
						"description": "Get detailed information about a specific user including addresses, role, and hierarchy."
					},
					"response": []
				},
				{
					"name": "Update User",
					"id": "48373923-f1947a8a-98b6-4923-8dd0-0f5d27e81e41",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"John Doe Updated\",\n  \"email\": \"john.updated@example.com\",\n  \"phone\": \"01712345679\",\n  \"bkash_merchant_number\": \"01712345680\",\n  \"nagad_merchant_number\": \"01712345681\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"1"
							]
						},
						"description": "Update user information. Only super admins can change is_active status."
					},
					"response": []
				},
				{
					"name": "Reset User Password",
					"id": "48373923-30319271-c4f5-437d-b4b9-b0cc135d1601",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"new_password\": \"newpassword123\",\n  \"can_change_password\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/users/1/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"1",
								"reset-password"
							]
						},
						"description": "Reset user password. Only available for super admins."
					},
					"response": []
				},
				{
					"name": "Get Available Roles",
					"id": "48373923-788c6939-6feb-4214-bbfc-6e15d5bec783",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/users/available-roles",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"users",
								"available-roles"
							]
						},
						"description": "Get list of roles that current user can assign to new users based on hierarchy."
					},
					"response": []
				}
			],
			"id": "48373923-87b049bb-d134-4d37-9cca-cda53dee3875"
		},
		{
			"name": "Token Management",
			"item": [
				{
					"name": "Get Tokens",
					"id": "48373923-token-001",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tokens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens"
							]
						},
						"description": "Get list of tokens based on user role and hierarchy. Shows assigned and available tokens."
					},
					"response": []
				},
				{
					"name": "Generate Tokens",
					"id": "48373923-token-002",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"quantity\": 10,\n  \"notes\": \"Optional generation notes\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/tokens/generate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"generate"
							]
						},
						"description": "Generate new tokens. Super Admin only. Specify the count of tokens to generate."
					},
					"response": []
				},
				{
					"name": "Assign Token",
					"id": "48373923-token-003",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token_id\": 1,\n  \"assigned_to_user_id\": 5\n}"
						},
						"url": {
							"raw": "{{base_url}}/tokens/assign",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"assign"
							]
						},
						"description": "Assign a token to a subordinate user. Creates assignment chain tracking."
					},
					"response": []
				},
				{
					"name": "Distribute Tokens",
					"id": "48373923-token-004",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"distribution_plan\": {\n    \"dealer_id_1\": 50,\n    \"dealer_id_2\": 30,\n    \"dealer_id_3\": 20\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/tokens/distribute",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"distribute"
							]
						},
						"description": "Bulk distribute tokens to multiple dealers. Super Admin only. Specify user IDs and token counts."
					},
					"response": []
				},
				{
					"name": "Token Statistics",
					"id": "48373923-token-005",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tokens/statistics",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"statistics"
							]
						},
						"description": "Get token statistics including generated, assigned, used, and available counts."
					},
					"response": []
				},
				{
					"name": "Get Assignable Users",
					"id": "48373923-token-006",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/tokens/assignable-users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"tokens",
								"assignable-users"
							]
						},
						"description": "Get list of users who can be assigned tokens based on hierarchy."
					},
					"response": []
				}
			],
			"id": "48373923-token-group"
		},
		{
			"name": "Customer Management",
			"item": [
				{
					"name": "Get Customers",
					"id": "48373923-customer-001",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/customers",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"disabled": true
								},
								{
									"key": "per_page",
									"value": "10",
									"disabled": true
								},
								{
									"key": "nid_no",
									"value": "2428907302",
									"disabled": true
								},
								{
									"key": "name",
									"value": "Shirin+Begum",
									"disabled": true
								},
								{
									"key": "email",
									"value": "Shirin%40gmail.com",
									"disabled": true
								},
								{
									"key": "phone",
									"value": "013696359658",
									"disabled": true
								},
								{
									"key": "mobile",
									"value": "A34",
									"disabled": true
								},
								{
									"key": "division_id",
									"value": "1",
									"disabled": true
								},
								{
									"key": "district_id",
									"value": "3",
									"disabled": true
								},
								{
									"key": "upazilla_id",
									"value": "35",
									"disabled": true
								},
								{
									"key": "product_type",
									"value": "phone",
									"disabled": true
								}
							]
						},
						"description": "Get paginated list of customers. Filter by status: pending, approved, rejected."
					},
					"response": []
				},
				{
					"name": "Create Customer",
					"id": "48373923-customer-002",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"রহিম উদ্দিন\",\n    \"email\": \"rahim@example.com\",\n    \"mobile\": \"01712345678\",\n    \"nid_no\": \"1234567890123\",\n    \"present_address\": {\n        \"street_address\": \"১২৩ মুক্তিযোদ্ধা সরণি\",\n        \"landmark\": \"ঢাকা মেডিকেল কলেজের কাছে\",\n        \"postal_code\": \"1000\",\n        \"division_id\": 1,\n        \"district_id\": 1,\n        \"upazilla_id\": 1\n    },\n    \"permanent_address\": {\n        \"street_address\": \"৪৫৬ পুরাতন ঢাকা\",\n        \"landmark\": \"লালবাগ কেল্লার পাশে\",\n        \"postal_code\": \"1211\",\n        \"division_id\": 1,\n        \"district_id\": 1,\n        \"upazilla_id\": 2\n    },\n    \"product_type\": \"mobile\",\n    \"product_model\": \"Samsung Galaxy S23\",\n    \"product_price\": 85000,\n    \"down_payment\": 15000,\n    \"emi_duration_months\": 12,\n    \"imei_1\": \"123456789012345\",\n    \"imei_2\": \"543210987654321\",\n    \"serial_number\": \"SN123456789\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/customers",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers"
							]
						},
						"description": "Create a new customer with EMI details. Token is automatically assigned from available tokens. EMI per month is automatically calculated based on (product_price - down_payment) / emi_duration_months."
					},
					"response": []
				},
				{
					"name": "Get Customer Details",
					"id": "48373923-customer-003",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/customers/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers",
								"1"
							]
						},
						"description": "Get detailed information about a specific customer including EMI calculations and addresses."
					},
					"response": []
				},
				{
					"name": "Update Customer Status",
					"id": "48373923-customer-004",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"approved\",\n  \"rejection_reason\": null\n}"
						},
						"url": {
							"raw": "{{base_url}}/customers/1/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers",
								"1",
								"status"
							]
						},
						"description": "Update customer status to approved/rejected. Include rejection_reason if rejecting."
					},
					"response": []
				},
				{
					"name": "Customer Statistics",
					"id": "48373923-customer-005",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/customers/statistics",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers",
								"statistics"
							]
						},
						"description": "Get customer statistics including counts by status and total loan amounts."
					},
					"response": []
				},
				{
					"name": "Upload Customer Documents",
					"id": "48373923-customer-006",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "nid_front",
									"type": "file",
									"src": []
								},
								{
									"key": "nid_back",
									"type": "file",
									"src": []
								},
								{
									"key": "customer_photo",
									"type": "file",
									"src": []
								},
								{
									"key": "guarantor_nid_front",
									"type": "file",
									"src": []
								},
								{
									"key": "guarantor_nid_back",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/customers/1/documents",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"customers",
								"1",
								"documents"
							]
						},
						"description": "Upload customer documents including NID, photo, and guarantor documents."
					},
					"response": []
				}
			],
			"id": "48373923-customer-group"
		},
		{
			"name": "Locations",
			"item": [
				{
					"name": "Get Divisions",
					"id": "48373923-7b408143-3c70-435b-9c22-2f3d6cfb616e",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/locations/divisions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"locations",
								"divisions"
							]
						},
						"description": "Get all active divisions for address selection."
					},
					"response": []
				},
				{
					"name": "Get Districts by Division",
					"id": "48373923-d9ce0659-87a2-4b4f-8163-9ea1783cc005",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/locations/districts/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"locations",
								"districts",
								"1"
							]
						},
						"description": "Get all active districts for a specific division."
					},
					"response": []
				},
				{
					"name": "Get Upazillas by District",
					"id": "48373923-76cfcd6a-4179-40b2-a198-e46627b1f146",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/locations/upazillas/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"locations",
								"upazillas",
								"1"
							]
						},
						"description": "Get all active upazillas for a specific district."
					},
					"response": []
				}
			],
			"id": "48373923-9b6d4367-ebe4-4e36-bea7-30209e8b179d"
		},
		{
			"name": "Dashboard",
			"item": [
				{
					"name": "Get Dashboard Stats",
					"id": "48373923-d485fc48-3098-4caf-b7c0-77fc73373ad0",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/dashboard/stats",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"dashboard",
								"stats"
							]
						},
						"description": "Get dashboard statistics. Super admins get global stats, others get personal stats."
					},
					"response": []
				}
			],
			"id": "48373923-57aa09b1-258d-4280-b504-5e5d8fd7babb"
		},
		{
			"name": "System",
			"item": [
				{
					"name": "API Test",
					"id": "48373923-cdf1c7c4-8fd1-4498-9dd1-9f82d29f6a6a",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/test",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"test"
							]
						},
						"description": "Test API connectivity and get Laravel version info."
					},
					"response": []
				},
				{
					"name": "Health Check",
					"id": "48373923-b80f0d65-4032-423b-91d5-3efe5082c1d5",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Health check endpoint for monitoring service status."
					},
					"response": []
				}
			],
			"id": "48373923-99db1cb1-cdba-4c5a-8906-567c5a185d05"
		},
		{
			"name": "Debug (Development Only)",
			"item": [
				{
					"name": "Debug Users",
					"id": "48373923-094b401b-bfba-4659-a847-2d84e114f208",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/debug/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"debug",
								"users"
							]
						},
						"description": "Debug endpoint to view all users with roles (development environment only)."
					},
					"response": []
				},
				{
					"name": "Debug Roles",
					"id": "48373923-80439a49-2a04-4074-9d8b-ecc701ecd3f8",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/debug/roles",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"debug",
								"roles"
							]
						},
						"description": "Debug endpoint to view all roles and permissions (development environment only)."
					},
					"response": []
				}
			],
			"id": "48373923-74f6a62b-cfa5-4514-9bdb-e4497ec12206"
		},
		{
			"name": "Device Control",
			"item": [
				{
					"name": "Register Device",
					"id": "48373923-device-001",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"serial_number\": \"R2Q5X08F00Y\",\n  \"imei1\": \"223762838218759\",\n  \"fcm_token\": \"eXXX...firebase_cloud_messaging_token...XXXe\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"register"
							]
						},
						"description": "Register device with FCM token. Public endpoint - no authentication required. Device finds customer by IMEI1 match."
					},
					"response": []
				},
				{
					"name": "Get Device Info",
					"id": "48373923-device-002",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/devices/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"1"
							]
						},
						"description": "Get device information for a specific customer including device status and capabilities."
					},
					"response": []
				},
				{
					"name": "Lock Device",
					"id": "48373923-device-003",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/lock",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"lock"
							]
						},
						"description": "Lock the customer's device remotely via FCM."
					},
					"response": []
				},
				{
					"name": "Unlock Device",
					"id": "48373923-device-004",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/unlock",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"unlock"
							]
						},
						"description": "Unlock the customer's device remotely via FCM."
					},
					"response": []
				},
				{
					"name": "Disable Camera",
					"id": "48373923-device-005",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/disable-camera",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"disable-camera"
							]
						},
						"description": "Disable device camera remotely."
					},
					"response": []
				},
				{
					"name": "Enable Camera",
					"id": "48373923-device-006",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/enable-camera",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"enable-camera"
							]
						},
						"description": "Enable device camera remotely."
					},
					"response": []
				},
				{
					"name": "Disable Bluetooth",
					"id": "48373923-device-007",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/disable-bluetooth",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"disable-bluetooth"
							]
						},
						"description": "Disable device bluetooth remotely."
					},
					"response": []
				},
				{
					"name": "Enable Bluetooth",
					"id": "48373923-device-008",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/enable-bluetooth",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"enable-bluetooth"
							]
						},
						"description": "Enable device bluetooth remotely."
					},
					"response": []
				},
				{
					"name": "Hide App",
					"id": "48373923-device-009",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1,\n  \"package_name\": \"com.facebook.katana\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/hide-app",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"hide-app"
							]
						},
						"description": "Hide an app on the device. Package name is optional - hides the EMI manager app if not provided."
					},
					"response": []
				},
				{
					"name": "Unhide App",
					"id": "48373923-device-010",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1,\n  \"package_name\": \"com.facebook.katana\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/unhide-app",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"unhide-app"
							]
						},
						"description": "Unhide an app on the device. Package name is optional."
					},
					"response": []
				},
				{
					"name": "Reset Password",
					"id": "48373923-device-011",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1,\n  \"password\": \"1234\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"reset-password"
							]
						},
						"description": "Set or reset device lock screen password remotely."
					},
					"response": []
				},
				{
					"name": "Remove Password",
					"id": "48373923-device-012",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/remove-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"remove-password"
							]
						},
						"description": "Remove device lock screen password."
					},
					"response": []
				},
				{
					"name": "Reboot Device",
					"id": "48373923-device-013",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 47\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/reboot",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"reboot"
							]
						},
						"description": "Reboot the device remotely."
					},
					"response": []
				},
				{
					"name": "Remove App",
					"id": "48373923-device-014",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1,\n  \"package_name\": \"com.example.app\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/remove-app",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"remove-app"
							]
						},
						"description": "Uninstall an app from the device remotely. Requires package name."
					},
					"response": []
				},
				{
					"name": "Wipe Device",
					"id": "48373923-device-015",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/wipe",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"wipe"
							]
						},
						"description": "Wipe device data (factory reset). USE WITH CAUTION - this will erase all data!"
					},
					"response": []
				},
				{
					"name": "Show Message",
					"id": "48373923-device-016",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1,\n  \"title\": \"Payment Reminder\",\n  \"message\": \"আপনার এই মাসের কিস্তি বাকি আছে। অনুগ্রহ করে ৫ তারিখের মধ্যে পরিশোধ করুন।\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/show-message",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"show-message"
							]
						},
						"description": "Show a custom message on the device screen. Supports Bangla text."
					},
					"response": []
				},
				{
					"name": "Show Reminder Screen",
					"id": "48373923-device-017",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1,\n  \"message\": \"আপনার কিস্তির সময় হয়ে গেছে। অবিলম্বে পেমেন্ট করুন।\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/reminder-screen",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"reminder-screen"
							]
						},
						"description": "Show a full-screen reminder that user must acknowledge. Supports Bangla text."
					},
					"response": []
				},
				{
					"name": "Play Reminder Audio",
					"id": "48373923-device-018",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1,\n  \"audio_url\": \"https://example.com/reminder.mp3\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/reminder-audio",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"reminder-audio"
							]
						},
						"description": "Play a reminder audio on the device. Audio URL is optional - plays default reminder if not provided."
					},
					"response": []
				},
				{
					"name": "Set Wallpaper",
					"id": "48373923-device-019",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1,\n  \"image_url\": \"https://example.com/reminder-wallpaper.jpg\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/set-wallpaper",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"set-wallpaper"
							]
						},
						"description": "Set device wallpaper to a custom image (e.g., payment reminder). Requires image URL."
					},
					"response": []
				},
				{
					"name": "Remove Wallpaper",
					"id": "48373923-device-020",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/remove-wallpaper",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"remove-wallpaper"
							]
						},
						"description": "Remove custom wallpaper and restore default."
					},
					"response": []
				},
				{
					"name": "Request Location",
					"id": "48373923-device-021",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/devices/command/request-location",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"command",
								"request-location"
							]
						},
						"description": "Request device's current GPS location. Device will send location back to server."
					},
					"response": []
				},
				{
					"name": "Get Command History",
					"id": "48373923-device-022",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/devices/1/history",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"1",
								"history"
							]
						},
						"description": "Get command history for a specific customer's device. Shows all sent commands with status."
					},
					"response": []
				},
				{
					"name": "Get Available Commands",
					"id": "48373923-device-023",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/devices/commands",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"devices",
								"commands"
							]
						},
						"description": "Get list of all available device control commands with their parameters and descriptions."
					},
					"response": []
				}
			],
			"id": "48373923-device-group",
			"description": "Device control and management endpoints using Firebase Cloud Messaging (FCM). Includes device registration and 19 remote control commands."
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "13ddc92c-1188-43a9-8f2b-3f77ed4fec0b",
				"type": "text/javascript",
				"requests": {},
				"exec": [
					"// Auto-set base URL if not set",
					"if (!pm.collectionVariables.get('base_url')) {",
					"    pm.collectionVariables.set('base_url', 'http://localhost:8000/api');",
					"    console.log('✅ Base URL set to:', 'http://localhost:8000/api');",
					"}",
					"",
					"// Automatically set Authorization header for all requests except Login",
					"const requestName = pm.info.requestName;",
					"const token = pm.collectionVariables.get('token');",
					"",
					"// Skip adding Authorization header for Login and Device Registration (public endpoints)",
					"const publicEndpoints = ['Login', 'Register Device'];",
					"",
					"if (!publicEndpoints.includes(requestName)) {",
					"    if (token) {",
					"        pm.request.headers.add({",
					"            key: 'Authorization',",
					"            value: 'Bearer ' + token",
					"        });",
					"        console.log('🔐 Authorization header added automatically');",
					"    } else {",
					"        console.log('⚠️ No token found. Please login first.');",
					"    }",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "f4fa2d7d-ff9f-4166-bbc0-bd5a179eb12a",
				"type": "text/javascript",
				"requests": {},
				"exec": [
					"// Collection-level response tests",
					"",
					"// Log response info",
					"console.log('📡 Response Status:', pm.response.code, pm.response.status);",
					"console.log('⏱️ Response Time:', pm.response.responseTime + 'ms');",
					"",
					"// Basic response validation",
					"if (pm.response.code >= 200 && pm.response.code < 300) {",
					"    pm.test('✅ Status code is successful', function () {",
					"        pm.expect(pm.response.code).to.be.oneOf([200, 201, 204]);",
					"    });",
					"} else if (pm.response.code >= 400 && pm.response.code < 500) {",
					"    pm.test('⚠️ Client error', function () {",
					"        console.log('Error:', pm.response.json());",
					"    });",
					"} else if (pm.response.code >= 500) {",
					"    pm.test('❌ Server error', function () {",
					"        console.log('Server Error:', pm.response.json());",
					"    });",
					"}",
					"",
					"// Check content type",
					"pm.test('📄 Response is JSON', function () {",
					"    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
					"});",
					"",
					"// Check for API response structure (for successful responses)",
					"if (pm.response.code === 200 || pm.response.code === 201) {",
					"    const response = pm.response.json();",
					"    ",
					"    if (response.success !== undefined) {",
					"        pm.test('📦 Response has success structure', function () {",
					"            pm.expect(response).to.have.property('success');",
					"        });",
					"        ",
					"        if (response.success) {",
					"            console.log('✅ Success:', response.message || 'Operation completed');",
					"        } else {",
					"            console.log('⚠️ Failed:', response.message || 'Operation failed');",
					"        }",
					"    }",
					"}",
					"",
					"// Performance test",
					"pm.test('⚡ Response time is acceptable', function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(3000);",
					"});"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000/api"
		},
		{
			"key": "token",
			"value": ""
		},
		{
			"key": "user_id",
			"value": ""
		},
		{
			"key": "user_name",
			"value": ""
		}
	]
}