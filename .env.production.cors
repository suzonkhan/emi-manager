# =============================================================================
# CORS & Sanctum Configuration for Production
# =============================================================================
# Add these variables to your production .env file

# Sanctum Stateful Domains (domains that can make authenticated requests)
# No protocol (http/https), comma-separated
SANCTUM_STATEFUL_DOMAINS=imelocker.com,www.imelocker.com,localhost,localhost:5173

# Session Domain (with leading dot to work across subdomains)
# This allows cookies to be shared between api.imelocker.com and www.imelocker.com
SESSION_DOMAIN=.imelocker.com

# Application URL (Backend API)
APP_URL=https://api.imelocker.com

# Frontend URL (for redirects and CSRF)
FRONTEND_URL=https://www.imelocker.com

# Session Configuration
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_SECURE_COOKIE=true
SESSION_SAME_SITE=lax

# =============================================================================
# For Local Development
# =============================================================================
# Use these instead for local development:

# SANCTUM_STATEFUL_DOMAINS=localhost,localhost:5173,127.0.0.1,127.0.0.1:5173
# SESSION_DOMAIN=localhost
# APP_URL=http://localhost:8000
# FRONTEND_URL=http://localhost:5173
# SESSION_SECURE_COOKIE=false
# SESSION_SAME_SITE=lax

# =============================================================================
# After updating .env, run:
# =============================================================================
# php artisan config:clear
# php artisan cache:clear
# php artisan optimize:clear
# sudo systemctl restart php8.3-fpm
# sudo systemctl restart nginx
